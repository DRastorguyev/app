{"version":3,"sources":["components/UI/sort/MySort.module.css","components/UI/input/MyInput.jsx","components/TodoForm.jsx","components/Row.jsx","components/TodoList.jsx","components/UI/sort/MySort.jsx","App.js","index.js"],"names":["module","exports","MyInput","props","placeholder","TodoForm","createTodo","useState","todoName","setTodoName","style","alignItems","paddingTop","onKeyDown","e","code","preventDefault","trim","message","error","onChange","target","value","type","RowBox","todo","removeTodo","patchTodo","showInput","setShowInput","clicked","setClicked","Item","justify","width","cursor","onClick","stopPropagation","align","checked","done","uuid","marginRight","size","autoFocus","onBlur","name","defaultValue","createdAt","slice","placement","title","disabled","marginLeft","shape","icon","DeleteOutlined","TodoList","todos","selectToDo","dataSource","renderItem","Row","MySort","setFilter","filterButtonHandler","filterType","filterState","sortButtonHandler","sortDirection","className","cl","mySort","sort__btn","marginBottom","App","setTodos","filter","fetchTodos","a","params","order","filterBy","axios","get","responce","data","post","id","delete","editDate","patch","useEffect","page","setPage","textAlign","fontSize","fontWeight","xs","md","span","offset","pageSize","current","newPage","total","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.90bce9bc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mySort\":\"MySort_mySort__Vqm3W\",\"sort__btn\":\"MySort_sort__btn__3wecl\"};","import React from 'react';\nimport { Input } from 'antd';\n\n\nconst MyInput = (props) => {\n  \n  return (\n    <div>\n      <Input {...props} placeholder='Buy milk...' />\n    </div>\n  );\n};\n\nexport default MyInput;","import { message } from 'antd';\nimport React, { useState } from 'react';\nimport MyInput from './UI/input/MyInput';\n\nconst TodoForm = ({ createTodo }) => {\n  const [todoName, setTodoName] = useState('');\n\n  const addNewTodo = (e) => {\n    if (todoName.trim() === '') {\n      message.error('Form is empty')\n    } else {\n      createTodo(todoName);\n      setTodoName('');\n    }\n  };\n\n  return (\n    <div>\n      <form\n        style={{\n          alignItems: 'center',\n          paddingTop: 10,\n        }}\n      >\n        <MyInput\n          onKeyDown={(e) => {\n            if (e.code !== 'Enter') return;\n            e.preventDefault();\n            addNewTodo();\n          }}\n          onChange={(e) => setTodoName(e.target.value)}\n          value={todoName}\n          type='text'\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default TodoForm;\n","import React, { useState } from 'react';\nimport { Button, Col, Row, Tooltip, Typography, Input } from 'antd';\nimport Checkbox from 'antd/lib/checkbox/Checkbox';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { List } from 'antd';\n\nconst RowBox = ({ todo, removeTodo, patchTodo }) => {\n  const [showInput, setShowInput] = useState(false);\n  const [clicked, setClicked] = useState(true)\n\n  const editTodo = (e) => {\n    if (e.code !== 'Enter') return;\n    patchTodo(todo.uuid, { name: e.target.value });\n    setShowInput(false);\n  };\n\n  return (\n    <List.Item>\n      <Row\n        justify='space-between'\n        style={{ width: '100%', alignItems: 'center' }}\n      >\n        <Col style={{ cursor: 'pointer' }}>\n          <Row\n            onClick={(e) => {\n              e.stopPropagation();\n              setShowInput(true);\n            }}\n            align='middle'\n          >\n            <Checkbox\n              checked={todo.done ? true : false}\n              onClick={(e) => {\n                e.stopPropagation();\n                patchTodo(todo.uuid, { done: todo.done ? false : true });\n              }}\n              style={{ marginRight: 10 }}\n            />\n            <Typography>\n              {showInput ? (\n                <Input\n                  size='small'\n                  autoFocus\n                  onBlur={() => setShowInput(false)}\n                  onKeyDown={editTodo}\n                  defaultValue={todo.name}\n                />\n              ) : (\n                todo.name\n              )}\n            </Typography>\n          </Row>\n        </Col>\n        <Col>\n          {todo.createdAt.slice(11, 19)}\n          <Tooltip placement='right' title='Delete'>\n            <Button\n              disabled={!clicked}\n              onClick={(e) => {\n                e.stopPropagation();\n                setClicked(false);\n                removeTodo(todo.uuid);\n              }}\n              style={{ marginLeft: 85 }}\n              shape='circle'\n              size='small'\n              icon={<DeleteOutlined />}\n            />\n          </Tooltip>\n        </Col>\n      </Row>\n    </List.Item>\n  );\n};\n\nexport default RowBox;\n","import { List } from 'antd';\nimport React from 'react';\nimport RowBox from './Row';\n\nconst TodoList = ({ todos, removeTodo, selectToDo, patchTodo }) => {\n  return (\n    <List\n      size='large'\n      dataSource={todos}\n      renderItem={(todo) => (\n        <RowBox\n          key={todo.uuid}\n          patchTodo={patchTodo}\n          todos={todos}\n          todo={todo}\n          selectToDo={selectToDo}\n          removeTodo={removeTodo}\n        />\n      )}\n    />\n  );\n};\n\nexport default TodoList;\n","import { Button } from 'antd';\nimport React from 'react';\nimport cl from '../sort/MySort.module.css';\n\nconst MySort = ({ setFilter }) => {\n  const filterButtonHandler = (filterType) => {\n    return () => {\n      setFilter((filterState) => ({ ...filterState, filterType }));\n    };\n  };\n\n  const sortButtonHandler = (sortDirection) => {\n    return () => {\n      setFilter((filterState) => ({ ...filterState, sortDirection }));\n    };\n  };\n\n  return (\n    <div className={cl.mySort}>\n      <div>\n        <Button\n          size='small'\n          style={{ marginRight: 10 }}\n          type='ghost'\n          shape='round'\n          onClick={filterButtonHandler('')}\n        >\n          All\n        </Button>\n        <Button\n          size='small'\n          style={{ marginRight: 10 }}\n          type='ghost'\n          shape='round'\n          onClick={filterButtonHandler('done')}\n        >\n          Done\n        </Button>\n        <Button\n          size='small'\n          style={{ marginRight: 10 }}\n          type='ghost'\n          shape='round'\n          onClick={filterButtonHandler('undone')}\n        >\n          In process\n        </Button>\n      </div>\n      <div className={cl.sort__btn}>\n        <p style={{ marginRight: 5, marginBottom: 0 }}>Sort by date</p>\n        <Button\n          size='small'\n          style={{ marginRight: 10 }}\n          type='ghost'\n          shape='round'\n          onClick={sortButtonHandler('asc')}\n        >\n          <i className='fas fa-chevron-up'></i>\n        </Button>\n        <Button\n          size='small'\n          style={{ marginRight: 10 }}\n          type='ghost'\n          shape='round'\n          onClick={sortButtonHandler('desc')}\n        >\n          <i className='fas fa-chevron-down'></i>\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default MySort;\n","import { useEffect, useState } from 'react';\nimport './App.css';\nimport TodoForm from './components/TodoForm';\nimport TodoList from './components/TodoList';\nimport MySort from './components/UI/sort/MySort';\nimport { Row, Col, Pagination, message } from 'antd';\nimport axios from 'axios';\n\n// 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\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n\n  const [filter, setFilter] = useState({\n    sortDirection: 'asc',\n    filterType: 'all',\n  });\n\n  // const deleteTodo = (id) => {\n  //   setTodos(todoState => {\n  //     return [...todoState].filter(todo => todo.id === id)\n  //   })\n  //   console.log(id);\n  // }\n\n  const fetchTodos = async () => {\n    const params = { order: filter.sortDirection };\n\n    if (filter.filterType === 'done' || filter.filterType === 'undone')\n      params.filterBy = filter.filterType;\n    const responce = await axios.get(\n      'https://todo-api-learning.herokuapp.com/v1/tasks/1',\n      { params }\n    );\n    setTodos(responce.data);\n  };\n\n  const createTodo = async (todoName) => {\n    try {\n      await axios.post('https://todo-api-learning.herokuapp.com/v1/task/1', {\n        name: todoName,\n        done: false,\n      });\n    } catch (error) {\n      if (error.message === 'Request failed with status code 422') {\n        message.error(\n          'Validation error: Message must be at least 2 characters long name in body'\n        );\n      } else {\n        message.error('Task with the same name exists');\n      }\n    }\n\n    fetchTodos();\n  };\n\n  const removeTodo = async (id) => {\n    await axios.delete(\n      `https://todo-api-learning.herokuapp.com/v1/task/1/${id}`\n    );\n    fetchTodos();\n  };\n\n  const patchTodo = async (id, editDate) => {\n    await axios.patch(\n      `https://todo-api-learning.herokuapp.com/v1/task/1/${id}`,\n      editDate\n    );\n    fetchTodos();\n  };\n\n  useEffect(() => {\n    fetchTodos();\n  }, [filter]);\n\n  const [page, setPage] = useState(1);\n\n  return (\n    <div className='App'>\n      <h1\n        style={{\n          textAlign: 'center',\n          paddingTop: 5,\n          marginBottom: 5,\n          fontSize: 45,\n          fontWeight: 100,\n        }}\n      >\n        ToDo\n      </h1>\n      <TodoForm createTodo={createTodo} />\n      <Row>\n        <Col xs={24} md={{ span: 24, offset: 0 }}>\n          <MySort fetchTodos={fetchTodos} setFilter={setFilter} />\n          <TodoList\n            patchTodo={patchTodo}\n            removeTodo={removeTodo}\n            todos={todos.slice((page - 1) * 5, page * 5)}\n          />\n          <Pagination\n            pageSize={5}\n            current={page}\n            onChange={(newPage) => setPage(newPage)}\n            total={todos.length}\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}